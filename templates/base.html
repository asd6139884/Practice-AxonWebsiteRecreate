<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="https://fonts.googleapis.com/css2?family=Yantramanav:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&display=swap" rel="stylesheet">


    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}"> <!-- 引入 CSS 樣式表 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> <!-- 引入 Font Awesome 圖示 -->
    {% block head %}{% endblock %} <!-- 自訂樣式表 -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/logo.ico') }}"> <!-- 網站圖示 -->
    <title>{% block title %}我的網站{% endblock %}</title> <!-- 網頁標題 -->
</head>
<body>
    <!-- 導覽列 -->
    <nav class="navbar">
        <!-- 公司 LOGO -->
        <div class="logo">
            <a href="/">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="logo">
            </a>
        </div>

        <!-- 導覽選單 (桌面版) -->
        <ul class="nav-links" id="navLinks">
            <li><a href="/" class="{% if request.path == '/' %}active{% endif %}">首頁</a></li>
            <li><a href="/about" class="{% if request.path == '/about' %}active{% endif %}">關於我們</a></li>
            <li><a href="/products" class="{% if request.path == '/products' %}active{% endif %}">產品介紹</a></li>
            <li><a href="/rent" class="{% if request.path == '/rent' %}active{% endif %}">堆高機租賃</a></li>
            <li><a href="/solutions" class="{% if request.path == '/solutions' %}active{% endif %}">解決方案</a></li>
            <li><a href="/contact" class="{% if request.path == '/contact' %}active{% endif %}">聯絡我們</a></li>
            <li><a href="/news" class="{% if request.path == '/news' %}active{% endif %}">最新消息</a></li>
        </ul>

        <!-- 漢堡按鈕 -->
        <button class="menu-toggle" id="menuToggle">
            ☰
        </button>
    </nav>

    <div class="overlay" id="overlay"></div>
    <!-- 行動版選單 -->
    <div class="mobile-menu" id="mobileMenu">
        <!-- 行動版導覽連結 -->
        <ul class="mobile-nav-links">
            <li><a href="/" class="{% if request.path == '/' %}active{% endif %}">首頁</a></li>
            <li><a href="/about" class="{% if request.path == '/about' %}active{% endif %}">關於我們</a></li>
            <li><a href="/products" class="{% if request.path == '/products' %}active{% endif %}">產品介紹</a></li>
            <li><a href="/rent" class="{% if request.path == '/rent' %}active{% endif %}">堆高機租賃</a></li>
            <li><a href="/solutions" class="{% if request.path == '/solutions' %}active{% endif %}">解決方案</a></li>
            <li><a href="/contact" class="{% if request.path == '/contact' %}active{% endif %}">聯絡我們</a></li>
            <li><a href="/news" class="{% if request.path == '/news' %}active{% endif %}">最新消息</a></li>
        </ul>
        
        <!-- 聯絡資訊 -->
        <div class="contact-info">
            <h3>聯絡我們</h3>
            <p>我們相信運搬不只是人力的事，更是腦力的事。<br>專注用最少的人力，創造搬運最大的可能性！<br>立即聯繫我們，讓我們為您規劃最合適的解決方案。</p>
            <p class="contact-item"><a href="tel:(04)2566-8713"><i class="fas fa-phone"></i> (04) 2566-8713</a></p>
            <p class="contact-item"><a href="fax:(04)2568-9840"><i class="fas fa-fax"></i> (04) 2568-9840</a></p>
            <p class="contact-item"><a href="mailto:service@chingkung.com.tw"><i class="fas fa-envelope"></i> service@chingkung.com.tw</a></p>
            <p class="contact-item"><a href="https://maps.google.com/?q=428台中市大雅區神林路一段267巷26號" target="_blank"><i class="fas fa-map-marker-alt"></i> 428台中市大雅區神林路一段267巷26號</a></p>
            
            <!-- 社群媒體連結 -->
            <div class="social-icons">
                <a href="https://www.facebook.com/AXONFORKLIFT/" target="_blank"><i class="fab fa-facebook"></i></a>
                <a href="https://www.youtube.com/channel/UCmfrzgzQwXHZsP_RswfgVLQ/featured" target="_blank"><i class="fab fa-youtube"></i></a>
                <a href="https://api.cresclab.com/system/a/?a=4t14vM1g5TZdwmDtwnOOq3FIUYsmknSk2Df9ZEDrSJWHHGN1pR/v%2B/B7Qg8osxxWs3i9Ffe9Vx98e3U5Iub81sKA5A61XlwkKcWrUyTxsG9vVsP9AN46DjDdeGqmvaS5" target="_blank"><i class="fab fa-line"></i></a>
                <a href="https://www.linkedin.com/company/axon-forklift-chingkung-co-ltd/" target="_blank"><i class="fab fa-linkedin"></i></a>
            </div>
        </div>
    </div>

    <!-- 固定小窗格 (行動版社群媒體連結) -->
    <div class="fixed-icons">
        <a href="https://api.cresclab.com/system/a/?a=4t14vM1g5TZdwmDtwnOOq3FIUYsmknSk2Df9ZEDrSJWHHGN1pR/v%2B/B7Qg8osxxWs3i9Ffe9Vx98e3U5Iub81sKA5A61XlwkKcWrUyTxsG9vVsP9AN46DjDdeGqmvaS5" target="_blank" class="icon-box"><i class="fab fa-line"></i></a>
        <a href="tel:(04)2566-8713" class="icon-box"><i class="fas fa-phone"></i></a>
        <a href="mailto:service@chingkung.com.tw" class="icon-box"><i class="fas fa-envelope"></i></a>
    </div>

    <!-- 右下角訊息小視窗 -->
    <div class="chat-widget">
        <!-- 聊天按鈕 -->
        <div class="chat-button" id="chatButton">
            <i class="fas fa-comments"></i>
        </div>
        
        <!-- 聊天視窗 -->
        <div class="chat-container" id="chatContainer">
            <!-- 視窗頭部 -->
            <div class="chat-header">
                <h3>Zena 運搬智囊團</h3>
                <div class="chat-close" id="chatClose">×</div>
            </div>
            
            <!-- 聯絡方式選擇區 -->
            <div class="contact-options" id="contactOptions">
                <p>請選擇聯絡方式</p>
                <div class="option" id="liveChat">
                    <i class="fas fa-comment"></i>
                    <span>即時聊天</span>
                </div>
                <div class="option" id="emailContact">
                    <i class="fas fa-envelope"></i>
                    <span>電子郵件聯絡</span>
                </div>
                <div class="option" id="phoneContact">
                    <i class="fas fa-phone"></i>
                    <span>電話聯絡</span>
                </div>
                <div class="option" id="lineContact">
                    <i class="fab fa-line"></i>
                    <span>Line 客服</span>
                </div>
            </div>
            
            <!-- 訊息區域 (初始隱藏) -->
            <div class="chat-messages" id="chatMessages" style="display: none;">
                <div class="chat-messages-container" id="messagesContainer">
                    <!-- 消息會被添加到這裡 -->
                    <div class="message agent">您好！請問有什麼我可以幫助您的嗎？</div>
                </div>
            </div>
            
            <!-- 輸入區域 (初始隱藏) -->
            <div class="chat-input" id="chatInput" style="display: none;">
                <input type="text" id="messageInput" placeholder="請輸入訊息...">
                <button id="sendButton">發送</button>
            </div>
        </div>
    </div>


    <!-- 內容區塊 (不同頁面會變動) -->
    <div class="content">
        {% block content %}{% endblock %}
    </div>
    
    <script>
    // 漢堡選單功能
        document.addEventListener("DOMContentLoaded", function() {
            const menuToggle = document.getElementById("menuToggle");
            const mobileMenu = document.getElementById("mobileMenu");
            const overlay = document.getElementById("overlay"); // 獲取遮罩層元素
            const mobileNavLinks = document.querySelector(".mobile-nav-links");
            const contactInfo = document.querySelector(".contact-info");
            
            // 根據視窗大小決定顯示的內容
            function updateMobileMenuContent() {
                if (window.innerWidth > 950) {
                    // 大螢幕：只顯示聯絡資訊
                    mobileNavLinks.style.display = "none";
                    contactInfo.style.display = "block";
                } else {
                    // 小螢幕：只顯示導覽連結
                    mobileNavLinks.style.display = "block";
                    contactInfo.style.display = "none";
                    overlay.classList.remove("show"); // 確保小螢幕時不顯示遮罩層
                }
            }
            
            // 初始設定
            updateMobileMenuContent();
            
            // 視窗大小變化時重新設定
            window.addEventListener("resize", function() {
                updateMobileMenuContent();
                
                // 如果從大螢幕切換到小螢幕，確保遮罩層被移除
                if (window.innerWidth <= 950) {
                    overlay.classList.remove("show");
                } else { //小螢幕切換到大螢幕時，確保遮罩層被加回
                    overlay.classList.add("show");
                }
            });
            
            // 點擊漢堡按鈕切換行動版選單顯示
            menuToggle.addEventListener("click", function() {
                mobileMenu.classList.toggle("show");

                // 只在大螢幕下切換遮罩層顯示狀態
                if (window.innerWidth > 950) {
                    overlay.classList.toggle("show");
                }
                
                // 更新顯示內容
                updateMobileMenuContent();

                // 切換漢堡按鈕圖示
                if (mobileMenu.classList.contains("show")) {
                    menuToggle.innerHTML = "✕";
                } else {
                    menuToggle.innerHTML = "☰";
                }
            });
            
            // 點擊行動版選單的連結時自動關閉選單
            const mobileLinks = document.querySelectorAll(".mobile-nav-links a");
            mobileLinks.forEach(link => {
                link.addEventListener("click", function() {
                    mobileMenu.classList.remove("show");
                    menuToggle.innerHTML = "☰";
                });
            });
            
            // 點擊遮罩層時關閉選單
            overlay.addEventListener("click", function() {
                mobileMenu.classList.remove("show");
                overlay.classList.remove("show"); // 關閉遮罩層
                menuToggle.innerHTML = "☰";
            });
        });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let currentIndex = 0;
            const slides = document.querySelectorAll('.slideshow-container img'); // 圖片
            const dots = document.querySelectorAll('.dot'); // 圓點指示器
            const slogan = document.querySelector('.slideshow-slogan'); // 標語
            const content = document.querySelector('.slideshow-content'); // 內容
            const hyperlinkbuttonGroup = document.querySelector('.hyperlink'); // 取得按鈕容器
            const button1 = hyperlinkbuttonGroup.querySelectorAll('.btn1 a'); // 按鈕1
            const button2 = hyperlinkbuttonGroup.querySelectorAll('.btn2 a'); // 按鈕2

            const prevButton = document.querySelector(".controls .prev"); // 上一張按鈕
            const nextButton = document.querySelector(".controls .next"); // 下一張按鈕
    
            // 定義每張圖片的文字內容
            const slideSlogans = [
                "EQUIPMENT",
                "EXPERT",
                "TECHNOLOGY"
            ];
            const slideContents = [
                "設備因人而生<br><span style='margin-left: 3vw;'>就該竭盡滿足需求</span>",
                "用腦運搬的專家<br><span style='margin-left: 3vw;'>THINK BEFORE LIFT</span>",
                "科技與傳統結合<br><span style='margin-left: 3vw;'>定義運搬新世代</span>"
            ];
    
            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
                
                // 更新圓點狀態
                dots.forEach((dot, i) => {
                    dot.classList.toggle('active', i === index);
                });
                
                // 更新文字內容
                slogan.innerHTML = slideSlogans[index];
                content.innerHTML = slideContents[index];
                
                // 重新觸發動畫
                restartAnimation(slogan);
                restartAnimation(content);
                [...button1, ...button2].forEach(restartAnimation);
            }
            
            function restartAnimation(element) {
                element.classList.remove('show', 'animated');
                void element.offsetWidth; // 觸發 DOM 重繪
                element.classList.add('show', 'animated');
            }
            
            function nextSlide() {
                currentIndex = (currentIndex + 1) % slides.length;
                showSlide(currentIndex);
            }
        
            function prevSlide() {
                currentIndex = (currentIndex - 1 + slides.length) % slides.length;
                showSlide(currentIndex);
            }

            function changeSlide(index) {
                currentIndex = index;
                showSlide(currentIndex);
            }
    
            // 自動輪播，每 10 秒切換一次
            let slideInterval = setInterval(nextSlide, 10000);
    
            // 綁定按鈕點擊事件
            prevButton.addEventListener("click", function () {
                clearInterval(slideInterval); // 先清除計時器，避免衝突
                prevSlide();
                slideInterval = setInterval(nextSlide, 10000); // 重新啟動自動輪播
            });
    
            nextButton.addEventListener("click", function () {
                clearInterval(slideInterval);
                nextSlide();
                slideInterval = setInterval(nextSlide, 10000);
            });

            // 綁定圓點點擊事件
            dots.forEach((dot, index) => {
                dot.addEventListener("click", function () {
                    changeSlide(index);
                });
            });
            
            // 初次載入時，顯示第一張圖片與文字
            showSlide(currentIndex);
        });
    </script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
        // 獲取元素
        const chatButton = document.getElementById('chatButton');
        const chatContainer = document.getElementById('chatContainer');
        const chatClose = document.getElementById('chatClose');
        const contactOptions = document.getElementById('contactOptions');
        const liveChat = document.getElementById('liveChat');
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');
        const messagesContainer = document.getElementById('messagesContainer');
        
        // 點擊聊天按鈕打開聊天視窗
        chatButton.addEventListener('click', function() {
            chatContainer.classList.add('show');
        });
        
        // 點擊關閉按鈕關閉聊天視窗
        chatClose.addEventListener('click', function() {
            chatContainer.classList.remove('show');
            // 重置聊天視窗狀態
            contactOptions.style.display = 'flex';
            chatMessages.style.display = 'none';
            chatInput.style.display = 'none';
        });
        
        // 點擊"即時聊天"選項
        liveChat.addEventListener('click', function() {
            contactOptions.style.display = 'none';
            chatMessages.style.display = 'block';
            chatInput.style.display = 'flex';
        });
        
        // 發送訊息功能
        function sendMessage() {
            const message = messageInput.value.trim();
            if (message !== '') {
                // 添加用戶訊息
                const userMessage = document.createElement('div');
                userMessage.className = 'message user';
                userMessage.textContent = message;
                messagesContainer.appendChild(userMessage);
                
                // 清空輸入框
                messageInput.value = '';
                
                // 滾動到最新消息
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // 模擬客服回覆（延遲1秒）
                setTimeout(function() {
                    const agentMessage = document.createElement('div');
                    agentMessage.className = 'message agent';
                    agentMessage.textContent = '感謝您的訊息！我們的客服人員將盡快回覆您。';
                    messagesContainer.appendChild(agentMessage);
                    
                    // 再次滾動到最新消息
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 1000);
            }
        }
        
        // 點擊發送按鈕發送訊息
        sendButton.addEventListener('click', sendMessage);
        
        // 按下Enter鍵發送訊息
        messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        // 電子郵件聯絡選項
        document.getElementById('emailContact').addEventListener('click', function() {
            // 顯示電子郵件訊息
            contactOptions.style.display = 'none';
            chatMessages.style.display = 'block';
            
            const emailInfo = document.createElement('div');
            emailInfo.className = 'message agent';
            emailInfo.innerHTML = '您可以發送郵件至：<br>service@axon.com.tw<br>我們將盡快回覆您的郵件。';
            messagesContainer.appendChild(emailInfo);
        });
        
        // 電話聯絡選項
        document.getElementById('phoneContact').addEventListener('click', function() {
            // 顯示電話訊息
            contactOptions.style.display = 'none';
            chatMessages.style.display = 'block';
            
            const phoneInfo = document.createElement('div');
            phoneInfo.className = 'message agent';
            phoneInfo.innerHTML = '您可以撥打我們的客服專線：<br>02-1234-5678<br>服務時間：週一至週五 9:00-18:00';
            messagesContainer.appendChild(phoneInfo);
        });
        
        // Line 客服選項
        document.getElementById('lineContact').addEventListener('click', function() {
            // 顯示Line訊息
            contactOptions.style.display = 'none';
            chatMessages.style.display = 'block';
            
            const lineInfo = document.createElement('div');
            lineInfo.className = 'message agent';
            lineInfo.innerHTML = '請掃描以下QR碼或搜尋LINE ID：<br>@axon_service<br>加入我們的Line客服';
            messagesContainer.appendChild(lineInfo);
        });
    });
    </script>

</body>
</html>
