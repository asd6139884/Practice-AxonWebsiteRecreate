<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}æˆ‘çš„ç¶²ç«™{% endblock %}</title> <!-- ç¶²é æ¨™é¡Œ -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}"> <!-- å¼•å…¥ CSS æ¨£å¼è¡¨ -->
    {% block head %}{% endblock %} <!-- è‡ªè¨‚æ¨£å¼è¡¨ -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/logo.ico') }}"> <!-- ç¶²ç«™åœ–ç¤º -->
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- å°è¦½åˆ— -->
    <nav class="navbar">
        <!-- å…¬å¸ LOGO -->
        <div class="logo">
            <a href="/">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="logo">
            </a>
        </div>

        <!-- åˆ†é é€£çµ -->
        <ul class="nav-links">
            <a href="/" class="{% if request.path == '/' %}active{% endif %}">é¦–é </a>
            <a href="/about" class="{% if request.path == '/about' %}active{% endif %}">é—œæ–¼æˆ‘å€‘</a>
            <a href="/products" class="{% if request.path == '/products' %}active{% endif %}">ç”¢å“ä»‹ç´¹</a>
            <a href="/rent" class="{% if request.path == '/rent' %}active{% endif %}">å †é«˜æ©Ÿç§Ÿè³ƒ</a>
            <a href="/solutions" class="{% if request.path == '/solutions' %}active{% endif %}">è§£æ±ºæ–¹æ¡ˆ</a>
            <a href="/contact" class="{% if request.path == '/contact' %}active{% endif %}">è¯çµ¡æˆ‘å€‘</a>
            <a href="/news" class="{% if request.path == '/news' %}active{% endif %}">æœ€æ–°æ¶ˆæ¯</a>
        </ul>
    </nav>

    <!-- å…§å®¹å€å¡Š (ä¸åŒé é¢æœƒè®Šå‹•) -->
    <div class="content">
        {% block content %}{% endblock %}
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let currentIndex = 0;
            const slides = document.querySelectorAll('.slideshow-container img'); // åœ–ç‰‡
            const dots = document.querySelectorAll('.dot'); // åœ“é»æŒ‡ç¤ºå™¨
            const slogan = document.querySelector('.slideshow-slogan'); // æ¨™èª
            const content = document.querySelector('.slideshow-content'); // å…§å®¹
            const hyperlinkbuttonGroup = document.querySelector('.hyperlink'); // å–å¾—æŒ‰éˆ•å®¹å™¨
            const button1 = hyperlinkbuttonGroup.querySelectorAll('.btn1 a'); // æŒ‰éˆ•1
            const button2 = hyperlinkbuttonGroup.querySelectorAll('.btn2 a'); // æŒ‰éˆ•2

            const prevButton = document.querySelector(".controls .prev"); // ä¸Šä¸€å¼µæŒ‰éˆ•
            const nextButton = document.querySelector(".controls .next"); // ä¸‹ä¸€å¼µæŒ‰éˆ•
    
            // å®šç¾©æ¯å¼µåœ–ç‰‡çš„æ–‡å­—å…§å®¹
            const slideSlogans = [
                "EQUIPMENT",
                "EXPERT",
                "TECHNOLOGY"
            ];
            const slideContents = [
                "è¨­å‚™å› äººè€Œç”Ÿ<br><span style='margin-left: 5em;'>å°±è©²ç«­ç›¡æ»¿è¶³éœ€æ±‚</span>",
                "ç”¨è…¦é‹æ¬çš„å°ˆå®¶<br><span style='margin-left: 5em;'>THINK BEFORE LIFT</span>",
                "ç§‘æŠ€èˆ‡å‚³çµ±çµåˆ<br><span style='margin-left: 5em;'>å®šç¾©é‹æ¬æ–°ä¸–ä»£</span>"
            ];
    
            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
                
                // æ›´æ–°åœ“é»ç‹€æ…‹
                dots.forEach((dot, i) => {
                    dot.classList.toggle('active', i === index);
                });
                
                // æ›´æ–°æ–‡å­—å…§å®¹
                slogan.innerHTML = slideSlogans[index];
                content.innerHTML = slideContents[index];
                
                // é‡æ–°è§¸ç™¼å‹•ç•«
                restartAnimation(slogan);
                restartAnimation(content);
                [...button1, ...button2].forEach(restartAnimation);
            }
            
            function restartAnimation(element) {
                element.classList.remove('show', 'animated');
                void element.offsetWidth; // è§¸ç™¼ DOM é‡ç¹ª
                element.classList.add('show', 'animated');
            }
            
            function nextSlide() {
                currentIndex = (currentIndex + 1) % slides.length;
                showSlide(currentIndex);
            }
        
            function prevSlide() {
                currentIndex = (currentIndex - 1 + slides.length) % slides.length;
                showSlide(currentIndex);
            }

            function changeSlide(index) {
                currentIndex = index;
                showSlide(currentIndex);
            }
    
            // ğŸ”¹ è‡ªå‹•è¼ªæ’­ï¼Œæ¯ 10 ç§’åˆ‡æ›ä¸€æ¬¡
            let slideInterval = setInterval(nextSlide, 10000);
    
            // ğŸ”¹ ç¶å®šæŒ‰éˆ•é»æ“Šäº‹ä»¶
            prevButton.addEventListener("click", function () {
                clearInterval(slideInterval); // å…ˆæ¸…é™¤è¨ˆæ™‚å™¨ï¼Œé¿å…è¡çª
                prevSlide();
                slideInterval = setInterval(nextSlide, 10000); // é‡æ–°å•Ÿå‹•è‡ªå‹•è¼ªæ’­
            });
    
            nextButton.addEventListener("click", function () {
                clearInterval(slideInterval);
                nextSlide();
                slideInterval = setInterval(nextSlide, 10000);
            });

            // ç¶å®šåœ“é»é»æ“Šäº‹ä»¶
            dots.forEach((dot, index) => {
                dot.addEventListener("click", function () {
                    changeSlide(index);
                });
            });
            
            // åˆæ¬¡è¼‰å…¥æ™‚ï¼Œé¡¯ç¤ºç¬¬ä¸€å¼µåœ–ç‰‡èˆ‡æ–‡å­—
            showSlide(currentIndex);
        });
    </script>
    
</body>
</html>
